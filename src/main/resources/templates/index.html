<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/layout}">
<head>
    <title>Bienvenido a Essence De Toi</title>
</head>
<body>

<div layout:fragment="content" class="container mt-4">
    <div class="p-5 mb-4 bg-light rounded-3">
        <div class="container-fluid py-5">
            <h1 class="display-5 fw-bold">Bienvenido a Essence De Toi</h1>
            <p class="col-md-8 fs-4">Tu oasis de belleza y bienestar. Descubre nuestros servicios exclusivos y agenda tu cita hoy mismo.</p>
            <div sec:authorize="!isAuthenticated()">
                <a class="btn btn-primary btn-lg" th:href="@{/appointments/new}" role="button">Agendar Cita Ahora</a>
                <a class="btn btn-secondary btn-lg" th:href="@{/login}" role="button">Iniciar Sesión</a>
            </div>
            <div sec:authorize="isAuthenticated()">
                <a class="btn btn-info btn-lg" th:href="@{/dashboard}" role="button">Ir al Dashboard</a>
            </div>
        </div>
    </div>

    <!-- Sección de Servicios Destacados -->
    <div class="container mt-5 mb-5">
        <h2 class="text-center mb-4">Nuestros Servicios Populares</h2>
        <div th:if="${services == null || services.isEmpty()}" class="alert alert-info" role="alert">
            Actualmente no hay servicios para mostrar. ¡Vuelve pronto!
        </div>
        <div class="row" th:if="${services != null && !services.isEmpty()}">
            <div class="col-md-4 mb-4" th:each="service : ${services}"> <!-- Mostrar solo los primeros 3 o menos si hay menos -->
                <div class="card h-100 shadow-sm">
                    <!-- Podrías añadir una imagen del servicio aquí si la tuvieras -->
                    <!-- <img th:src="@{/images/service-placeholder.png}" class="card-img-top" alt="Imagen del Servicio"> -->
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title" th:text="${service.name}">Nombre del Servicio</h5>
                        <p class="card-text flex-grow-1" th:text="${service.description != null && service.description.length() > 100 ? service.description.substring(0, 100) + '...' : service.description}">Descripción corta.</p>
                        <ul class="list-unstyled mt-3 mb-2">
                            <li><strong>Duración:</strong> <span th:text="${service.durationMinutes}"></span> minutos</li>
                            <li><strong>Precio:</strong> $<span th:text="${#numbers.formatDecimal(service.price, 1, 'POINT', 2, 'COMMA')}"></span></li>
                        </ul>
                        <a th:href="@{/services/list}" class="btn btn-sm btn-outline-primary mt-auto align-self-start">Ver Detalles</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Fin Sección de Servicios Destacados -->

    <div class="row align-items-md-stretch">
        <div class="col-md-6 mb-4">
            <div class="h-100 p-5 text-white bg-dark rounded-3">
                <h2>Nuestros Servicios</h2>
                <p>Explora nuestra gama de tratamientos de belleza, desde cortes de cabello y coloración hasta tratamientos faciales y masajes relajantes. Usamos productos de alta calidad para asegurar los mejores resultados.</p>
                <a class="btn btn-outline-light" th:href="@{/services/list}" role="button">Ver Servicios</a>
            </div>
        </div>
        <div class="col-md-6 mb-4">
            <div class="h-100 p-5 bg-light border rounded-3">
                <h2>Agenda tu Cita</h2>
                <p>¿Lista para tu transformación? Agendar tu cita es fácil y rápido. Selecciona tu servicio, estilista preferido y el horario que más te convenga.</p>
                <a class="btn btn-outline-secondary" th:href="@{/appointments/new}" sec:authorize="isAuthenticated()" role="button">Agendar Ahora</a>
                <a class="btn btn-outline-secondary" th:href="@{/login}" sec:authorize="!isAuthenticated()" title="Debes iniciar sesión para agendar" role="button">Agendar Ahora</a>
            </div>
        </div>
    </div>

    <!-- Nueva Sección Contáctanos -->
    <section id="contact-section" class="contact-section py-5 mt-5 border-top">
        <div class="container">
            <h2 class="text-center mb-4">Contáctanos</h2>
            <div class="row">
                <div class="col-md-8 offset-md-2">
                    <p class="text-center">Ponte en contacto con nosotros para cualquier consulta o para agendar tu próxima visita. ¡Estamos aquí para ayudarte!</p>
                    <div class="card mt-4">
                        <div class="card-body">
                            <p><i class="bi bi-telephone-fill"></i> <strong>Teléfono:</strong> <a href="tel:+1234567890">tel:+1234567890</a></p>
                            <p><i class="bi bi-envelope-fill"></i> <strong>Email:</strong> <a href="mailto:contacto@essencedetoi.com">mailto:contacto@essencedetoi.com</a></p>
                            <p><i class="bi bi-geo-alt-fill"></i> <strong>Dirección:</strong> Calle 123, Neiva, Colombia</p>
                            <p><i class="bi bi-clock-fill"></i> <strong>Horario:</strong> Lunes a Sábado: 9:00 AM - 7:00 PM</p>
                        </div>
                    </div>
                    <!-- Podrías añadir un mapa de Google Maps aquí si lo deseas -->
                    <!-- Ejemplo: <div class="mt-4"><iframe src="URL_DE_TU_MAPA_EMBEBIDO" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe></div> -->
                </div>
            </div>
        </div>
    </section>

</div>

</body>
</html>
